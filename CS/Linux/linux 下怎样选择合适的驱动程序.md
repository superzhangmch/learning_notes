# linux 下怎样选择合适的驱动程序

2014-04-06

就说关于pci设别与usb设备的。

一般是先用 lspci / lsusb 来查看得到对应的vendor号与设备号，然后就能定位到（这个需要结合/sys/bus/下的相关文件来决定出。怎么定位？见《Linux 内核技术手册》）是哪个设备了。能定位到是哪个具体的设备，驱动就好处理了。

另外lspci 命令使用的时候，会显示出具体的设备名称的，如果没有显示，那么是某个系统配置文件过时了，去下载相关的文件更新下就行了（具体是哪个问题，查吧）。

定位到设备后，可以去源代码中找相关的驱动文件，从而编译出相关的驱动了。

需要特别记住的就是，这些过程严重依赖于 sysfs 虚拟文件系统，也就是 /sys 这个。

具体一切详情，都在《Linux 内核技术手册》这本书中。

另外， 结合 http://hi.baidu.com/zengzhaonong/item/61f91722d92afe102a0f1c5d ，说下lsusb 输出结果解读。
一般长这样：`Bus 002 Device 006: ID 15d9:0a37` 。Bus 002表示第二个usb主控制器。Device 006表示第二个usb主控制器下挂载的第6个设备。而后面的ID 15d9:0a37则是该设备的vendor号与设备号，实际上，根据这个ID，就确定了该设备了。
