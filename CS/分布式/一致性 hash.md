一致性哈希把哈希 value 空间看成一个闭合的环，把每个节点和每个 key 都映射到环上的位置；key 的归属节点定义为从 key 的位置顺时针遇到的第一个节点，因此每个节点实际负责它与前驱节点之间那段区间的 key；当新增或删除节点时，只会改变与该节点相邻的一段区间归属（平均约 1/N 的 key 迁移），而不会像取模分片那样导致几乎所有 key 重新映射；再通过虚拟节点把每个物理节点拆成多个落点以获得更均匀的负载。

也就是: 一致性哈希不是把 key 直接函数映射到节点，而是先把 key 和节点都映射到同一个哈希空间坐标系中，再通过空间上的邻近关系（顺时针最近节点）决定归属；这个共享哈希空间起到了中间层的作用，使 key 与节点的绑定不再依赖节点数量，从而在节点变化时只影响局部区间。

把 key→node 的直接函数依赖，改造成 key→space→node 的结构依赖.
